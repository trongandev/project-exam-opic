import{c as f,a3 as p,a4 as j,a5 as v,j as e,B as i,a6 as x,a7 as N,a8 as y,a9 as k,k as b,ab as w,aa as S}from"./index-Dv78AP9e.js";import{u as L,b as r,L as C}from"./react-CZ6hAaVq.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],B=f("circle-check-big",M);function I(){const n=L(),[c,h]=r.useState(""),[m,o]=r.useState(!1),[d,u]=r.useState(!1),s=p({initialValues:{email:""},validationSchema:j({email:v().email("Email không hợp lệ").required("Vui lòng nhập email")}),onSubmit:l=>{g(l)}}),g=async l=>{try{o(!0),await S.forgotPassword(l),u(!0)}catch(a){let t="Email không tồn tại";a.response?.data?.message?t=a.response.data.message:a.message&&(t=a.message),h(t)}finally{o(!1)}};return e.jsx("div",{className:"h-screen flex items-center justify-center  px-5 xl:px-0",children:e.jsxs("div",{className:"w-full xl:w-4xl  mx-auto shadow-md rounded-xl border border-gray-200 flex flex-col-reverse xl:flex-row overflow-hidden items-center relative",children:[!d&&e.jsx("div",{className:"absolute left-5 top-5",children:e.jsx(i,{variant:"outline",onClick:()=>n(-1),children:e.jsx(x,{})})}),d?e.jsxs("div",{className:"p-5 flex-1 w-full text-center text-primary font-medium",children:[e.jsx(B,{size:60,className:"mx-auto"}),e.jsx("p",{className:"text-xl  my-3",children:"Đặt lại mật khẩu thành công"}),e.jsx("p",{className:"flex-1 text-gray-500 text-sm",children:"Mật khẩu mới đã được tạo và gửi vào email của bạn. Vui lòng kiểm tra hộp thư đến"}),e.jsxs(i,{className:"mt-10",onClick:()=>n("/auth/login"),children:[e.jsx(x,{})," Quay lại đăng nhập"]})]}):e.jsxs("div",{className:"p-5 flex-1 w-full",children:[e.jsx("h1",{className:"text-3xl font-medium text-primary mb-5 text-center",children:"Quên mật khẩu"}),e.jsxs("form",{className:"space-y-5 mt-5",onSubmit:s.handleSubmit,children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(N,{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Nhập email mà bạn đã đăng ký"}),e.jsx(y,{type:"email",id:"email",placeholder:"Nhập email",className:"h-10 md:h-12",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.email}),s.touched.email&&s.errors.email?e.jsx("div",{className:"text-red-500 mt-1 mb-3 ml-5 text-sm",children:s.errors.email}):null]}),c&&e.jsxs("div",{className:"text-sm flex  items-center",children:[e.jsx(k,{className:"text-red-700",size:16}),e.jsx("span",{className:"text-red-500 ml-2",children:c})]}),e.jsxs("div",{className:"flex justify-between items-center gap-3 md:gap-0",children:[e.jsxs(i,{type:"submit",disabled:m,children:[m?e.jsx(b,{}):e.jsx(w,{}),"Đặt lại mật khẩu mới"]}),e.jsx(C,{to:"/auth/login",className:"text-xs text-gray-500 hover:underline pr-5",children:"Quay lại đăng nhập"})]})]})]}),e.jsx("div",{className:"flex-1 h-[400px]",children:e.jsx("img",{src:"/svg/undraw_compose-email_s6kf.svg",alt:"",className:"w-full h-full "})})]})})}export{I as default};
